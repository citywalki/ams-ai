# Fiori 合规清单（前端页面自检）

适用范围：`app-web` 下所有新增或改造页面。目标是保证页面符合 SAP Fiori for Web 规范，并与现有页面风格一致。

参考：SAP Fiori Design Web - Floorplan Overview（v1.142）

## 0. Floorplan 选择（先选型，再实现）

- [ ] 先判断页面目标：是“找对象”“看详情”“处理任务”还是“看概览/分析”
- [ ] 按目标选择标准 floorplan，而不是先写自定义布局
- [ ] 列表与详情场景优先采用 `List Report + Object Page` 组合
- [ ] 待办处理场景优先采用 `Worklist`
- [ ] 多指标总览场景优先采用 `Overview Page (OVP)`
- [ ] 数据分析与筛选联动场景优先采用 `Analytical List Page (ALP)`
- [ ] 避免把完整 floorplan “塞进”另一个页面内容区（应按 floorplan 本身组织页面）

## 0.1 Dynamic Page 基线

- [ ] 页面结构遵循 Dynamic Page 思路：`Header + Content (+ Footer Toolbar)`
- [ ] Header 放页面级上下文（标题、关键状态、全局动作），不堆业务细节
- [ ] Content 作为主工作区，只承载当前任务核心内容
- [ ] Footer Toolbar 仅放页面级确认/提交类动作，避免与局部动作混用

## 1. 页面结构

- [ ] 页面根容器使用统一骨架类（如 `fiori-page-root`）
- [ ] 内容区使用统一宽度容器（如 `fiori-page-content`）
- [ ] 页面不依赖大量内联样式（`style={{...}}`）
- [ ] 页面结构清晰分层：壳层、内容层、卡片/业务区

## 2. 组件与视觉

- [ ] 优先使用 `@ui5/webcomponents-react` 组件，不重复造轮子
- [ ] 不覆盖 UI5 组件核心视觉（避免重皮肤）
- [ ] 字体与颜色优先使用 Fiori 语义变量（`--sap*`）
- [ ] 标题层级一致（页面标题、区块标题、正文）
- [ ] 间距节奏统一（同类组件上下间距一致）

## 3. 状态表达

- [ ] 加载态使用 `BusyIndicator`，位置固定且可感知
- [ ] 错误态使用 `MessageStrip`，信息可读且不遮挡主操作
- [ ] 空态/成功态展示方式统一，不与错误态混排冲突
- [ ] 提交中按钮有明确状态（禁用或 loading 文案）

## 4. 可访问性

- [ ] 键盘可完整操作（Tab 顺序正确）
- [ ] 焦点可见（Focus 状态清晰）
- [ ] 文本与背景对比度可读（避免浅灰叠浅灰）
- [ ] 输入项包含明确含义（占位符/标签文案语义正确）

## 5. 响应式

- [ ] 360px 宽度下无横向滚动
- [ ] 关键操作控件不溢出（按钮、输入框、表格关键列）
- [ ] 移动端与桌面端布局保持同一视觉语言

## 6. 代码与样式治理

- [ ] 页面样式放在页面级 CSS 或共享样式文件中
- [ ] 命名具备语义（避免 `box1`、`tmp` 之类命名）
- [ ] 不引入未使用的样式与组件
- [ ] 新增共享规则时优先放入 `app-web/src/styles/`

## 7. 回归验证（提交前）

- [ ] 执行 `pnpm lint` 通过
- [ ] 执行 `pnpm build` 通过
- [ ] 手工验证核心业务路径（登录/跳转/主要操作）无回归

## 8. PR 自检模板（可复制）

```markdown
## Fiori 合规自检

- [ ] 页面结构使用统一骨架
- [ ] UI5 组件语义与状态使用正确
- [ ] 无新增内联样式滥用
- [ ] 响应式通过（360px 无横向滚动）
- [ ] 可访问性通过（键盘与焦点）
- [ ] lint/build 通过
```
